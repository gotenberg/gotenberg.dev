---
id: routes
title: Routes
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

Most routes within Gotenberg are designed to accept *multipart/form-data* requests and generate one or more PDF files.
This guide will assist you in understanding their usage.

## Convert with Chromium

The next routes leverage the capabilities of the Chromium browser to effectively transform a diverse range of HTML
documents into PDFs.

Checkout the [Chromium module configuration](configuration#chromium) to tailor the Chromium behavior to your needs.

### URL into PDF <span class="badge badge--secondary">route</span>

This *multipart/form-data* route converts a web page into PDF.

```
POST /forms/chromium/convert/url
```

It accepts the following specific form field:

| Key | Description                                   |                                                   |
| --- | --------------------------------------------- | ------------------------------------------------- |
| url | URL of the page you want to convert into PDF. | <span class="badge badge--danger">required</span> |

<Tabs
defaultValue="curl"
values={[
{ label: 'cURL', value: 'curl', },
]
}>
<TabItem value="curl">

```bash {3}
curl \
--request POST 'http://localhost:3000/forms/chromium/convert/url' \
--form 'url="https://my.url"' \
-o my.pdf
```

</TabItem>
</Tabs>

<Tabs
defaultValue="200"
values={[
{ label: '200 OK', value: '200', },
{ label: '400 Bad Request', value: '400', },
{ label: '403 Forbidden', value: '403', },
{ label: '503 Service Unavailable', value: '503', },
]
}>
<TabItem value="200">

```
Content-Disposition: attachement; filename={output-filename.pdf}
Content-Type: {content-type}
Content-Length: {content-length}
Gotenberg-Trace: {trace}
Body: {output-file}
```

* See the [Request Tracing](#request-tracing) section for more information about the `Gotenberg-Trace` header.
* See the [Output Filename](#output-filename) section for more information about the `Gotenberg-Output-Filename` header.

</TabItem>
<TabItem value="400">

This errors happens if one ore more form fields are invalid.

```
Content-Type: text/plain; charset=UTF-8
Gotenberg-Trace: {trace}
Body: {error}
```

</TabItem>
<TabItem value="403">

This error happens when the given URL is not authorized.

See the [Chromium module configuration](configuration#chromium) for more details.

```
Content-Type: text/plain; charset=UTF-8
Gotenberg-Trace: {trace}
Body: '{url}' does not match the authorized URLs
```

</TabItem>
<TabItem value="503">

If a request doesn't complete within a specified duration, the API will respond with a *503 Service Unavailable* status.

See the [API module configuration](configuration#api) for more details.

```
Content-Type: text/plain; charset=UTF-8
Gotenberg-Trace: {trace}
Body: Service Unavailable
```

</TabItem>
</Tabs>

### HTML file into PDF <span class="badge badge--secondary">route</span>

This *multipart/form-data* route converts an HTML file into PDF.

```
POST /forms/chromium/convert/html
```

It accepts the following specific form file:

| Key        | Description                        |                                                    |
| ---------- | ---------------------------------- | -------------------------------------------------- |
| index.html | The HTML file to convert into PDF. | <span class="badge badge--danger">required</span>  |

For instance:

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>My PDF</title>
  </head>
  <body>
    <h1>Hello world!</h1>
  </body>
</html>
```

<Tabs
defaultValue="curl"
values={[
{ label: 'cURL', value: 'curl', },
]
}>
<TabItem value="curl">

```bash {3}
curl \
--request POST 'http://localhost:3000/forms/chromium/convert/html' \
--form 'files=@"/path/to/index.html"' \
-o my.pdf
```

</TabItem>
</Tabs>

<Tabs
defaultValue="200"
values={[
{ label: '200 OK', value: '200', },
{ label: '400 Bad Request', value: '400', },
{ label: '503 Service Unavailable', value: '503', },
]
}>
<TabItem value="200">

```
Content-Disposition: attachement; filename={output-filename.pdf}
Content-Type: {content-type}
Content-Length: {content-length}
Gotenberg-Trace: {trace}
Body: {output-file}
```

* See the [Request Tracing](#request-tracing) section for more information about the `Gotenberg-Trace` header.
* See the [Output Filename](#output-filename) section for more information about the `Gotenberg-Output-Filename` header.

</TabItem>
<TabItem value="400">

This errors happens if one ore more form fields are invalid.

```
Content-Type: text/plain; charset=UTF-8
Gotenberg-Trace: {trace}
Body: {error}
```

</TabItem>
<TabItem value="503">

If a request doesn't complete within a specified duration, the API will respond with a *503 Service Unavailable* status.

See the [API module configuration](configuration#api) for more details.

```
Content-Type: text/plain; charset=UTF-8
Gotenberg-Trace: {trace}
Body: Service Unavailable
```

</TabItem>
</Tabs>

---

You may also send additional files, like images, fonts, stylesheets, and so on.

The only requirement is that their paths in the `index.html` file are on the root level.

For instance, this will work:

```html {9}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>My PDF</title>
  </head>
  <body>
    <h1>Hello world!</h1>
    <img src="img.png" />
  </body>
</html>
```

But this won't:

```html {9}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>My PDF</title>
  </head>
  <body>
    <h1>Hello world!</h1>
    <img src="/foo/img.png" />
  </body>
</html>
```

<Tabs
defaultValue="curl"
values={[
{ label: 'cURL', value: 'curl', },
]
}>
<TabItem value="curl">

```bash {4}
curl \
--request POST 'http://localhost:3000/forms/chromium/convert/html' \
--form 'files=@"/path/to/index.html"' \
--form 'files=@"/path/to/img.png"' \
-o my.pdf
```

</TabItem>
</Tabs>

:::info

Remote paths for images, fonts (e.g., [Google Fonts](https://fonts.google.com/)), etc., work too.

:::

### Markdown file(s) into PDF <span class="badge badge--secondary">route</span>

This *multipart/form-data* route converts Markdown file(s) into PDF.

```
POST /forms/chromium/convert/markdown
```

It accepts the following specific form files:

| Key        | Description                                    |                                                   |
| ---------- | ---------------------------------------------- | ------------------------------------------------- |
| index.html | The HTML file that wraps the markdown content. | <span class="badge badge--danger">required</span> |
| *.md       | At least one markdown file.                    | <span class="badge badge--danger">required</span> |

It works like the [HTML](#html) route but with access to a Go template function `toHTML`. This function converts a
markdown file's content into HTML.

```html {8}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>My PDF</title>
  </head>
  <body>
    {{ toHTML "file.md" }}
  </body>
</html>
```

<Tabs
defaultValue="curl"
values={[
{ label: 'cURL', value: 'curl', },
]
}>
<TabItem value="curl">

```bash {4}
curl \
--request POST 'http://localhost:3000/forms/chromium/convert/markdown' \
--form 'files=@"/path/to/index.html"' \
--form 'files=@"/path/to/file.md"' \
-o my.pdf
```

</TabItem>
</Tabs>

<Tabs
defaultValue="200"
values={[
{ label: '200 OK', value: '200', },
{ label: '400 Bad Request', value: '400', },
{ label: '503 Service Unavailable', value: '503', },
]
}>
<TabItem value="200">

```
Content-Disposition: attachement; filename={output-filename.pdf}
Content-Type: {content-type}
Content-Length: {content-length}
Gotenberg-Trace: {trace}
Body: {output-file}
```

* See the [Request Tracing](#request-tracing) section for more information about the `Gotenberg-Trace` header.
* See the [Output Filename](#output-filename) section for more information about the `Gotenberg-Output-Filename` header.

</TabItem>
<TabItem value="400">

This errors happens if one ore more form fields are invalid.

```
Content-Type: text/plain; charset=UTF-8
Gotenberg-Trace: {trace}
Body: {error}
```

</TabItem>
<TabItem value="503">

If a request doesn't complete within a specified duration, the API will respond with a *503 Service Unavailable* status.

See the [API module configuration](configuration#api) for more details.

```
Content-Type: text/plain; charset=UTF-8
Gotenberg-Trace: {trace}
Body: Service Unavailable
```

</TabItem>
</Tabs>

### Page Properties {#page-properties-chromium}

Each route accepts the following form fields:

| Key               | Description                                                                    | Default   |
| ----------------- | ------------------------------------------------------------------------------ | --------- |
| paperWidth        | Paper width, in inches.                                                        | 8.5       |
| paperHeight       | Paper height, in inches.                                                       | 11        |
| marginTop         | Top margin, in inches.                                                         | 0.39      |
| marginBottom      | Bottom margin, in inches.                                                      | 0.39      |
| marginLeft        | Left margin, in inches.                                                        | 0.39      |
| marginRight       | Right margin, in inches.                                                       | 0.39      |
| preferCssPageSize | Define whether to prefer page size as defined by CSS.                          | false     |
| printBackground   | Print the background graphics.                                                 | false     |
| omitBackground    | Hide the default white background and allow generating PDFs with transparency. | false     |
| landscape         | Set the paper orientation to landscape.                                        | false     |
| scale             | The scale of the page rendering.                                               | 1.0       |
| nativePageRanges  | Page ranges to print, e.g., '1-5, 8, 11-13' - empty means all pages.           | All pages |

<Tabs
defaultValue="curl"
values={[
{ label: 'cURL', value: 'curl', },
]
}>
<TabItem value="curl">

```bash {4-15}
curl \
--request POST 'http://localhost:3000/forms/chromium/convert/url' \
--form 'url="https://my.url"' \
--form 'paperWidth="8.27"' \
--form 'paperHeight="11.7"' \
--form 'marginTop="1"' \
--form 'marginBottom="1"' \
--form 'marginLeft="1"' \
--form 'marginRight="1"' \
--form 'preferCssPageSize="false"' \
--form 'printBackground="true"' \
--form 'omitBackground="true"' \
--form 'landscape="true"' \
--form 'scale="2.0"' \
--form 'nativePageRanges="1-5"' \
-o my.pdf
```

</TabItem>
</Tabs>

:::info

Examples of paper size (width x height):

* `Letter` - 8.5 x 11 (default)
* `Legal` - 8.5 x 14
* `Tabloid` - 11 x 17
* `Ledger` - 17 x 11
* `A0` - 33.1 x 46.8
* `A1` - 23.4 x 33.1
* `A2` - 16.54 x 23.4
* `A3` - 11.7 x 16.54
* `A4` - 8.27 x 11.7
* `A5` - 5.83 x 8.27
* `A6` - 4.13 x 5.83

:::

:::info

The rules regarding the `printBackground` and `omitBackground` form fields are the following:

* If `printBackground` is set to *false*, no background is printed.
* If `printBackground` is set to *true*:
    * If the HTML document has a background, that background is used.
    * If not:
        * If `omitBackground` is set to *true*, the default background is transparent.
        * If not, the default white background is used.

:::

### Header & Footer {#header-footer-chromium}

Each route accepts the following form files:

| Key         | Description                      | Default |
|-------------|----------------------------------|---------|
| header.html | HTML file containing the header. | None    |
| footer.html | HTML file containing the footer. | None    |

<Tabs
defaultValue="curl"
values={[
{ label: 'cURL', value: 'curl', },
]
}>
<TabItem value="curl">

```bash {4-5}
curl \
--request POST 'http://localhost:3000/forms/chromium/convert/url' \
--form 'url="https://my.url"' \
--form 'files=@"/path/to/header.html"' \
--form 'files=@"/path/to/footer.html"' \
-o my.pdf
```

</TabItem>
</Tabs>

Each of them has to be a **complete HTML document**:

```html
<html>
<head>
    <style>
    body {
        font-size: 12px;
        margin: auto 20px;
    }
    </style>
</head>
<body>
<p><span class="pageNumber"></span> of <span class="totalPages"></span></p>
</body>
</html>
```

:::info

The following classes allow you to inject printing values:

* `date` - formatted print date.
* `title` - document title.
* `url` - document location.
* `pageNumber` - current page number.
* `totalPages` - total pages in the document.

:::

:::caution

There are some limitations:

* No JavaScript.
* The CSS properties are independent of the ones from the HTML document.
* `footer.html` CSS properties override the ones from `header.html`.
* Only fonts installed in the Docker image are loaded - see the [fonts configuration section](configuration#fonts).
* Images only work using a base64 encoded source - i.e., `data:image/png;base64, iVBORw0K...`.
* `background-color` and `color` CSS properties require an additional `-webkit-print-color-adjust: exact` CSS property in order to work.
* Assets are not loaded (i.e., CSS files, scripts, fonts, etc.).
* Background form fields do not apply.

:::

### Wait Before Rendering {#wait-before-rendering-chromium}

Each route accepts the following form fields:

| Key                | Description                                                                                            | Default |
| ------------------ |------------------------------------------------------------------------------------------------------- | ------- |
| waitDelay          | Duration (e.g, '5s') to wait when loading an HTML document before converting it into PDF.              | None    |
| waitForExpression  | The JavaScript expression to wait before converting an HTML document into PDF until it returns *true*. | None    |

:::info

These form fields do not work if JavaScript is disabled via `--chromium-disable-javascript`.

See the [Chromium module configuration](configuration#chromium) for more details.

:::

**waitDelay**

When the page relies on JavaScript for rendering, and you don't have access to the page's code, you may want to wait a
certain amount of time to make sure Chromium has fully rendered the page you're trying to generate.

<Tabs
defaultValue="curl"
values={[
    { label: 'cURL', value: 'curl', },
]
}>
<TabItem value="curl">

```bash {4}
curl \
--request POST 'http://localhost:3000/forms/chromium/convert/url' \
--form 'url="https://my.url"' \
--form 'waitDelay="5s"' \
-o my.pdf
```

</TabItem>
</Tabs>

**waitForExpression**

A more reliable option than the previous form field:

```js
// Somewhere in the HTML document.
var globalVar = 'notReady'
await promises()
window.globalVar = 'ready'
```

<Tabs
defaultValue="curl"
values={[
{ label: 'cURL', value: 'curl', },
]
}>
<TabItem value="curl">

```bash {4}
curl \
--request POST 'http://localhost:3000/forms/chromium/convert/url' \
--form 'url="https://my.url"' \
--form 'waitForExpression="window.globalVar === '\''ready'\''"' \
-o my.pdf
```

</TabItem>
</Tabs>

### Emulated Media Type {#emulated-media-type-chromium}

Each route accepts the following form field:

| Key               | Description                                                                  | Default |
| ----------------- | ---------------------------------------------------------------------------- | ------- |
| emulatedMediaType | The media type to emulate, either "screen" or "print" - empty means "print". | print   |

Some websites have dedicated CSS rules for print. Using "screen" allows you to force the "standard" CSS rules.

<Tabs
defaultValue="curl"
values={[
{ label: 'cURL', value: 'curl', },
]
}>
<TabItem value="curl">

```bash {4}
curl \
--request POST 'http://localhost:3000/forms/chromium/convert/url' \
--form 'url="https://my.url"' \
--form 'emulatedMediaType="screen"' \
-o my.pdf
```

</TabItem>
</Tabs>

### Custom HTTP Headers {#custom-http-headers-chromium}

Each route accepts the following form fields:

| Key              | Description                                                                     | Default |
| ---------------- |-------------------------------------------------------------------------------- | ------- |
| userAgent        | Override the default `User-Agent` header.                                       | None    |
| extraHttpHeaders | HTTP headers to send by Chromium while loading the HTML document (JSON format). | None    |

<Tabs
defaultValue="curl"
values={[
{ label: 'cURL', value: 'curl', },
]
}>
<TabItem value="curl">

```bash {4-5}
curl \
--request POST 'http://localhost:3000/forms/chromium/convert/url' \
--form 'url="https://my.url"' \
--form 'userAgent="Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1"' \
--form 'extraHttpHeaders="{\"MyHeader\": \"MyValue\"}"' \
-o my.pdf
```

</TabItem>
</Tabs>

### Invalid HTTP Status Codes {#invalid-http-status-codes-chromium}

Each route accepts the following form field:

| Key                   | Description                                                                                    | Default     |
| ----------------------|----------------------------------------------------------------------------------------------- | ----------- |
| failOnHttpStatusCodes | Return a *409 Conflict* response if the HTTP status code from the main page is not acceptable. | \[499,599\] |

A `X99` entry means every HTTP status codes between `X00` and `X99` (e.g., 499 means every HTTP status codes between 400 and 499).

<Tabs
defaultValue="curl"
values={[
{ label: 'cURL', value: 'curl', },
]
}>
<TabItem value="curl">

```bash {4}
curl \
--request POST 'http://localhost:3000/forms/chromium/convert/url' \
--form 'url="https://httpstat.us/400"' \
--form 'failOnHttpStatusCodes="[499]"'
```

</TabItem>
</Tabs>

<Tabs
defaultValue="409"
values={[
{ label: '409 Conflict', value: '409', },
]
}>
<TabItem value="409">

```
Content-Type: text/plain; charset=UTF-8
Gotenberg-Trace: {trace}
Body:

Invalid HTTP status code from the main page: 400: Bad Request
```

</TabItem>
</Tabs>

### Console Exceptions {#console-exceptions-chromium}

Each route accepts the following form field:

| Key                     | Description                                                                       | Default |
| ----------------------- |---------------------------------------------------------------------------------- | ------- |
| failOnConsoleExceptions | Return a *409 Conflict* response if there are exceptions in the Chromium console. | false   |

:::info

This form field does not work if JavaScript is disabled via `--chromium-disable-javascript`.

See the [Chromium module configuration](configuration#chromium) for more details.

:::

<Tabs
defaultValue="curl"
values={[
{ label: 'cURL', value: 'curl', },
]
}>
<TabItem value="curl">

```bash {4}
curl \
--request POST 'http://localhost:3000/forms/chromium/convert/html' \
--form 'files=@"/path/to/index.html"' \
--form 'failOnConsoleExceptions="true"'
```

</TabItem>
</Tabs>

<Tabs
defaultValue="409"
values={[
{ label: '409 Conflict', value: '409', },
]
}>
<TabItem value="409">

```
Content-Type: text/plain; charset=UTF-8
Gotenberg-Trace: {trace}
Body:

Chromium console exceptions:

exception "Uncaught" (17:10): Error: Exception 1
at file:///tmp/db09d2c8-31e3-4058-9923-c2705350f2b3/index.html:18:11;
exception "Uncaught" (20:10): Error: Exception 2
at file:///tmp/db09d2c8-31e3-4058-9923-c2705350f2b3/index.html:21:11:
```

</TabItem>
</Tabs>

### Performance Mode {#performance-mode-chromium}

Each route accepts the following form field:

| Key                  | Description                                  | Default |
| -------------------- |--------------------------------------------- | ------- |
| skipNetworkIdleEvent | Do not wait for Chromium network to be idle. | false   |


Gotenberg, by default, waits for the network idle event to ensure that the majority of the page is rendered during
conversion. However, this often significantly slows down the conversion process. Setting this form field to true can
greatly enhance the conversion speed.

<Tabs
defaultValue="curl"
values={[
{ label: 'cURL', value: 'curl', },
]
}>
<TabItem value="curl">

```bash {4}
curl \
--request POST 'http://localhost:3000/forms/chromium/convert/html' \
--form 'files=@"/path/to/index.html"' \
--form 'skipNetworkIdleEvent="true"' \
-o my.pdf
```

</TabItem>
</Tabs>

### PDF/A & PDF/UA {#pdfa-chromium}

Each route accepts the following form fields:

| Key   | Description                                                | Default |
| ----- | ---------------------------------------------------------- | ------- |
| pdfa  | Convert the resulting PDF into the given PDF/A format.     | None    |
| pdfua | Enable PDF for Universal Access for optimal accessibility. | false   |

At present, the following PDF/A formats are available:

* `PDF/A-1b`
* `PDF/A-2b`
* `PDF/A-3b`

<Tabs
defaultValue="curl"
values={[
{ label: 'cURL', value: 'curl', },
]
}>
<TabItem value="curl">

```bash {4-5}
curl \
--request POST 'http://localhost:3000/forms/chromium/convert/url' \
--form 'url="https://my.url"' \
--form 'pdfa="PDF/A-1b"' \
--form 'pdfua="true' \
-o my.pdf
```

</TabItem>
</Tabs>

### Screenshots <span class="badge badge--secondary">route</span>

You can capture full-page screenshots using the following three routes, which function similarly to their PDF equivalents:

```
POST /forms/chromium/screenshot/url
```

```
POST /forms/chromium/screenshot/html
```

```
POST /forms/chromium/screenshot/markdown
```

These routes accept the following form fields:

| Key              | Description                                                                           | Default |
| ---------------- | ------------------------------------------------------------------------------------- | ------- |
| format           | The image compression format, either "png", "jpeg" or "webp".                         | png     |
| quality          | The compression quality from range 0 to 100 (jpeg only).                              | 100     |
| omitBackground   | Hide the default white background and allow generating screenshots with transparency. | false   |
| optimizeForSpeed | Define whether to optimize image encoding for speed, not for resulting size.          | false   |

The following features are also available:

* [Wait Before Rendering](#wait-before-rendering-chromium)
* [Emulated Media Type](#emulated-media-type-chromium)
* [Custom HTTP headers](#custom-http-headers-chromium)
* [Invalid HTTP Status Codes](#invalid-http-status-codes-chromium)
* [Console Exceptions](#console-exceptions-chromium)
* [Performance Mode](#performance-mode-chromium)

<Tabs
defaultValue="curl"
values={[
{ label: 'cURL', value: 'curl', },
]
}>
<TabItem value="curl">

```bash {4-7}
curl \
--request POST 'http://localhost:3000/forms/chromium/screenshot/html' \
--form 'files=@"/path/to/index.html"' \
--form 'format="jpeg"' \
--form 'quality="100"' \
--form 'optimizeForSpeed="true"' \
-o my.jpeg
```

</TabItem>
</Tabs>

## Convert with LibreOffice

The next route leverage the capabilities of LibreOffice to effectively transform a diverse range of Office documents
(Word, Excel, PowerPoint, etc.) into PDFs.

Checkout the [LibreOffice module configuration](configuration#libreoffice) to tailor the LibreOffice behavior to your needs.

### Office documents into PDFs <span class="badge badge--secondary">route</span>

This *multipart/form-data* route convert one or more Office documents into PDF.

```
POST /forms/libreoffice/convert
```

Currently, the following extensions are supported:

`.bib`
`.doc`
`.xml`
`.docx`
`.fodt`
`.html`
`.ltx`
`.txt`
`.odt`
`.ott`
`.pdb`
`.pdf`
`.psw`
`.rtf`
`.sdw`
`.stw`
`.sxw`
`.uot`
`.vor`
`.wps`
`.epub`
`.png`
`.bmp`
`.emf`
`.eps`
`.fodg`
`.gif`
`.jpg`
`.met`
`.odd`
`.otg`
`.pbm`
`.pct`
`.pgm`
`.ppm`
`.ras`
`.std`
`.svg`
`.svm`
`.swf`
`.sxd`
`.sxw`
`.tiff`
`.xhtml`
`.xpm`
`.fodp`
`.potm`
`.pot`
`.pptx`
`.pps`
`.ppt`
`.pwp`
`.sda`
`.sdd`
`.sti`
`.sxi`
`.uop`
`.wmf`
`.csv`
`.dbf`
`.dif`
`.fods`
`.ods`
`.ots`
`.pxl`
`.sdc`
`.slk`
`.stc`
`.sxc`
`.uos`
`.xls`
`.xlt`
`.xlsx`
`.tif`
`.jpeg`
`.odp`
`.odg`
`.dotx`
`.xltx`

<Tabs
defaultValue="curl"
values={[
{ label: 'cURL', value: 'curl', },
]
}>
<TabItem value="curl">

```bash {3-4}
curl \
--request POST 'http://localhost:3000/forms/libreoffice/convert' \
--form 'files=@"/path/to/file.docx"' \
-o my.pdf
```

</TabItem>
</Tabs>

<Tabs
defaultValue="curl"
values={[
{ label: 'cURL', value: 'curl', },
]
}>
<TabItem value="curl">

```bash {3-5}
curl \
--request POST 'http://localhost:3000/forms/libreoffice/convert' \
--form 'files=@"/path/to/file.docx"' \
--form 'files=@"/path/to/file.xlsx"' \
-o my.zip
```

</TabItem>
</Tabs>

<Tabs
defaultValue="200"
values={[
{ label: '200 OK', value: '200', },
{ label: '400 Bad Request', value: '400', },
{ label: '503 Service Unavailable', value: '503', },
]
}>
<TabItem value="200">

```
Content-Disposition: attachement; filename={output-filename.ext}
Content-Type: {content-type}
Content-Length: {content-length}
Gotenberg-Trace: {trace}
Body: {output-file}
```

* See the [Request Tracing](#request-tracing) section for more information about the `Gotenberg-Trace` header.
* See the [Output Filename](#output-filename) section for more information about the `Gotenberg-Output-Filename` header.

</TabItem>
<TabItem value="400">

This errors happens if one ore more form fields are invalid.

```
Content-Type: text/plain; charset=UTF-8
Gotenberg-Trace: {trace}
Body: {error}
```

</TabItem>
<TabItem value="503">

If a request doesn't complete within a specified duration, the API will respond with a *503 Service Unavailable* status.

See the [API module configuration](configuration#api) for more details.

```
Content-Type: text/plain; charset=UTF-8
Gotenberg-Trace: {trace}
Body: Service Unavailable
```

</TabItem>
</Tabs>

### Page Properties {#page-properties-libreoffice}

The route also accepts the following form fields:

| Key              | Description                                                | Default   |
| ---------------- |----------------------------------------------------------- | --------- |
| landscape        | Set the paper orientation to landscape.                    | false     |
| nativePageRanges | Page ranges to print, e.g., '1-4' - empty means all pages. | All pages |

:::info

If multiple files are provided, the page ranges will be applied independently to each file.

:::

<Tabs
defaultValue="curl"
values={[
{ label: 'cURL', value: 'curl', },
]
}>
<TabItem value="curl">

```bash {4-5}
curl \
--request POST 'http://localhost:3000/forms/libreoffice/convert' \
--form 'files=@"/path/to/file.docx"' \
--form 'landscape="true"' \
--form 'nativePageRanges="1-5"' \
-o my.pdf
```

</TabItem>
</Tabs>

### Merge {#merge-libreoffice}

The route also accepts the following form fields:

| Key   | Description               | Default |
| ----- |-------------------------- | ------- |
| merge | Merge the resulting PDFs. | false   |

<Tabs
defaultValue="curl"
values={[
{ label: 'cURL', value: 'curl', },
]
}>
<TabItem value="curl">

```bash {5-6}
curl \
--request POST 'http://localhost:3000/forms/libreoffice/convert' \
--form 'files=@"/path/to/file.docx"' \
--form 'files=@"/path/to/file.xlsx"' \
--form 'merge="true"' \
-o my.pdf
```

</TabItem>
</Tabs>

### PDF/A & PDF/UA {#pdfa-libreoffice}

The route also accepts the following form fields:

| Key   | Description                                                | Default |
| ----- | ---------------------------------------------------------- | ------- |
| pdfa  | Convert the resulting PDF into the given PDF/A format.     | None    |
| pdfua | Enable PDF for Universal Access for optimal accessibility. | false   |

At present, the following PDF/A formats are available:

* `PDF/A-1b`
* `PDF/A-2b`
* `PDF/A-3b`

<Tabs
defaultValue="curl"
values={[
{ label: 'cURL', value: 'curl', },
]
}>
<TabItem value="curl">

```bash {4-5}
curl \
--request POST 'http://localhost:3000/forms/libreoffice/convert' \
--form 'files=@"/path/to/file.docx"' \
--form 'pdfa="PDF/A-1b"' \
--form 'pdfua="true"' \
-o my.pdf
```

</TabItem>
</Tabs>

## Convert into PDF/A & PDF/UA <span class="badge badge--secondary">route</span>

This *multipart/form-data* route transform one or more PDF files into the requested PDF/A format and/or PDF/UA.

```
POST /forms/pdfengines/convert
```

It accepts the following form files and form fields:

| Key       | Description                                                | Default                                           |
| --------- | ---------------------------------------------------------- | ------------------------------------------------- |
| *.pdf     | At least one PDF file.                                     | <span class="badge badge--danger">required</span> |
| pdfa      | Convert the resulting PDF into the given PDF/A format.     | None*                                             |
| pdfua     | Enable PDF for Universal Access for optimal accessibility. | false*                                            |

Note that at least one of the form field must be provided.\*

At present, the following PDF/A formats are available:

* `PDF/A-1b`
* `PDF/A-2b`
* `PDF/A-3b`

<Tabs
defaultValue="curl"
values={[
{ label: 'cURL', value: 'curl', },
]
}>
<TabItem value="curl">

```bash {4-6}
curl \
--request POST 'http://localhost:3000/forms/pdfengines/convert' \
--form 'files=@"/path/to/pdf.pdf"' \
--form 'pdfa="PDF/A-1b"' \
--form 'pdfua="true"' \
-o my.pdf
```

</TabItem>
</Tabs>

<Tabs
defaultValue="curl"
values={[
{ label: 'cURL', value: 'curl', },
]
}>
<TabItem value="curl">

```bash {7-9}
curl \
--request POST 'http://localhost:3000/forms/pdfengines/convert' \
--form 'files=@"/path/to/pdf1.pdf"' \
--form 'files=@"/path/to/pdf2.pdf"' \
--form 'files=@"/path/to/pdf3.pdf"' \
--form 'files=@"/path/to/pdf4.pdf"' \
--form 'pdfa="PDF/A-1b"' \
--form 'pdfua="true"' \
-o my.zip
```

</TabItem>
</Tabs>

<Tabs
defaultValue="200"
values={[
{ label: '200 OK', value: '200', },
{ label: '400 Bad Request', value: '400', },
{ label: '503 Service Unavailable', value: '503', },
]
}>
<TabItem value="200">

```
Content-Disposition: attachement; filename={output-filename.ext}
Content-Type: {content-type}
Content-Length: {content-length}
Gotenberg-Trace: {trace}
Body: {output-file}
```

* See the [Request Tracing](#request-tracing) section for more information about the `Gotenberg-Trace` header.
* See the [Output Filename](#output-filename) section for more information about the `Gotenberg-Output-Filename` header.

</TabItem>
<TabItem value="400">

This errors happens if one ore more form fields are invalid.

```
Content-Type: text/plain; charset=UTF-8
Gotenberg-Trace: {trace}
Body: {error}
```

</TabItem>
<TabItem value="503">

If a request doesn't complete within a specified duration, the API will respond with a *503 Service Unavailable* status.

See the [API module configuration](configuration#api) for more details.

```
Content-Type: text/plain; charset=UTF-8
Gotenberg-Trace: {trace}
Body: Service Unavailable
```

</TabItem>
</Tabs>

## Merge PDFs <span class="badge badge--secondary">route</span>

This *multipart/form-data* route accepts PDF files and merges them alphabetically.

```
POST /forms/pdfengines/merge
```

| Key       | Description                                                | Default                                           |
| --------- | ---------------------------------------------------------- | ------------------------------------------------- |
| *.pdf     | PDF files.                                                 | <span class="badge badge--danger">required</span> |
| pdfa      | Convert the resulting PDF into the given PDF/A format.     | None                                              |
| pdfua     | Enable PDF for Universal Access for optimal accessibility. | false                                             |

At present, the following PDF/A formats are available:

* `PDF/A-1b`
* `PDF/A-2b`
* `PDF/A-3b`

<Tabs
defaultValue="curl"
values={[
{ label: 'cURL', value: 'curl', },
]
}>
<TabItem value="curl">

```bash {3-6}
curl \
--request POST 'http://localhost:3000/forms/pdfengines/merge' \
--form 'files=@"/path/to/pdf1.pdf"' \
--form 'files=@"/path/to/pdf2.pdf"' \
--form 'files=@"/path/to/pdf3.pdf"' \
--form 'files=@"/path/to/pdf4.pdf"' \
-o my.pdf
```

</TabItem>
</Tabs>

<Tabs
defaultValue="200"
values={[
{ label: '200 OK', value: '200', },
{ label: '400 Bad Request', value: '400', },
{ label: '503 Service Unavailable', value: '503', },
]
}>
<TabItem value="200">

```
Content-Disposition: attachement; filename={output-filename.pdf}
Content-Type: {content-type}
Content-Length: {content-length}
Gotenberg-Trace: {trace}
Body: {output-file}
```

* See the [Request Tracing](#request-tracing) section for more information about the `Gotenberg-Trace` header.
* See the [Output Filename](#output-filename) section for more information about the `Gotenberg-Output-Filename` header.

</TabItem>
<TabItem value="400">

This errors happens if one ore more form fields are invalid.

```
Content-Type: text/plain; charset=UTF-8
Gotenberg-Trace: {trace}
Body: {error}
```

</TabItem>
<TabItem value="503">

If a request doesn't complete within a specified duration, the API will respond with a *503 Service Unavailable* status.

See the [API module configuration](configuration#api) for more details.

```
Content-Type: text/plain; charset=UTF-8
Gotenberg-Trace: {trace}
Body: Service Unavailable
```

</TabItem>
</Tabs>

## Health Check <span class="badge badge--secondary">route</span>

```
GET /health
```

<Tabs
defaultValue="curl"
values={[
{ label: 'cURL', value: 'curl', },
]
}>
<TabItem value="curl">

```bash {3-6}
curl --request GET 'http://localhost:3000/health'
```

</TabItem>
</Tabs>

<Tabs
defaultValue="200"
values={[
{ label: '200 OK', value: '200', },
{ label: '503 Service Unavailable', value: '503', },
]
}>
<TabItem value="200">

```json
{
    "status": "up",
    "details": {
        "chromium": {
            "status": "up",
            "timestamp": "2021-07-01T08:05:14.603364Z"
        },
        "uno": {
            "status": "up",
            "timestamp": "2021-07-01T08:05:14.603364Z"
        }
    }
}
```

</TabItem>
<TabItem value="503">

```json
{
    "status": "down",
    "details": {
        "chromium": {
            "status": "up",
            "timestamp": "2021-07-01T08:05:14.603364Z"
        },
        "libreoffice": {
            "status": "down",
            "timestamp": "2021-07-01T08:05:14.603364Z",
            "error": "LibreOffice is unhealthy"
        }
    }
}
```

</TabItem>
</Tabs>

The `details` entry gathers the health checks from modules:

* The Chromium module checks if the Chromium browser is heallthy.
* The LibreOffice module checks if the LibreOffice instance is healthy.

## Metrics <span class="badge badge--secondary">route</span>

This route exposes the metrics from other modules using the [Prometheus](https://prometheus.io/) format.

```
GET /prometheus/metrics
```

Currently, the metrics include:

| Metric                                                                                    | Description                                                              |
| ----------------------------------------------------------------------------------------- | ------------------------------------------------------------------------ |
| <span class="badge badge--secondary">\{namespace\}_chromium_requests_queue_size</span>    | Current number of Chromium conversion requests waiting to be treated.    |
| <span class="badge badge--secondary">\{namespace\}_chromium_restarts_count</span>         | Current number of Chromium restarts.                                     |
| <span class="badge badge--secondary">\{namespace\}_libreoffice_requests_queue_size</span> | Current number of LibreOffice conversion requests waiting to be treated. |
| <span class="badge badge--secondary">\{namespace\}_libreoffice_restarts_count</span>      | Current number of LibreOffice restarts.                                  |


See the [Prometheus module configuration](configuration#prometheus) for more information.

## Request Tracing

A trace, or request ID, serves to identify a specific request in the logs.

By default, the API assigns a unique UUID trace to every request. However, you also have the option to specify the trace
for each request using the `Gotenberg-Trace` header.


<Tabs
defaultValue="curl"
values={[
{ label: 'cURL', value: 'curl', },
]
}>
<TabItem value="curl">

```bash {3}
curl \
--request POST 'http://localhost:3000/forms/chromium/convert/url' \
--header 'Gotenberg-Trace: debug' \
--form 'url="https://my.url"' \
-o my.pdf
```

</TabItem>
</Tabs>

The API also incorporates a `Gotenberg-Trace` header into each response. If you're utilizing the [webhook feature](webhook),
this header will also be added to each request made to your callbacks.

:::info

The `--api-trace-header` flag allows you to configure the header key. See the [API module configuration](configuration#api) for more details.

:::

## Output Filename

By default, for *multipart/form-data* endpoints, the API generates a response with a UUID filename.
However, you have the option to specify the filename for each request using the `Gotenberg-Output-Filename` header.

<Tabs
defaultValue="curl"
values={[
{ label: 'cURL', value: 'curl', },
]
}>
<TabItem value="curl">

```bash {3}
curl \
--request POST 'http://localhost:3000/forms/chromium/convert/url' \
--header 'Gotenberg-Output-Filename: my_filename' \
--form 'url="https://my.url"' \
-O -J
```

</TabItem>
</Tabs>

:::info

The API automatically appends the file extension, so there's no need for you to set it manually.

:::
