"use strict";(self.webpackChunkgotenberg_dev=self.webpackChunkgotenberg_dev||[]).push([[95],{2477:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"environment_variables","title":"Environment Variables","description":"You may customize the API behaviour thanks to environment variables.","source":"@site/versioned_docs/version-6.x/environment_variables.md","sourceDirName":".","slug":"/environment_variables","permalink":"/docs/6.x/environment_variables","draft":false,"unlisted":false,"editUrl":"https://github.com/gotenberg/gotenberg.dev/edit/main/versioned_docs/version-6.x/environment_variables.md","tags":[],"version":"6.x","frontMatter":{"id":"environment_variables","title":"Environment Variables"},"sidebar":"version-6.x","previous":{"title":"Clients","permalink":"/docs/6.x/clients"},"next":{"title":"HTML","permalink":"/docs/6.x/html"}}');var t=i(4848),r=i(8453);const s={id:"environment_variables",title:"Environment Variables"},l=void 0,a={},c=[{value:"Log level",id:"log-level",level:2},{value:"Default listen port",id:"default-listen-port",level:2},{value:"Root path",id:"root-path",level:2},{value:"Disable Google Chrome",id:"disable-google-chrome",level:2},{value:"Default Google Chrome rpcc buffer size",id:"default-google-chrome-rpcc-buffer-size",level:2},{value:"Google Chrome ignore certificate errors",id:"google-chrome-ignore-certificate-errors",level:2},{value:"Disable LibreOffice (unoconv)",id:"disable-libreoffice-unoconv",level:2},{value:"Default wait timeout",id:"default-wait-timeout",level:2},{value:"Maximum wait timeout",id:"maximum-wait-timeout",level:2},{value:"Default webhook URL timeout",id:"default-webhook-url-timeout",level:2},{value:"Maximum webhook URL timeout",id:"maximum-webhook-url-timeout",level:2},{value:"Maximum wait delay",id:"maximum-wait-delay",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",p:"p",strong:"strong",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"You may customize the API behaviour thanks to environment variables."}),"\n",(0,t.jsx)(n.h2,{id:"log-level",children:"Log level"}),"\n",(0,t.jsx)(n.p,{children:"The API provides structured logging allowing you to have relevant information\nabout what's going on."}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"If a TTY is attached, the log entries are displayed in text format with colors, otherwise in JSON format."})}),"\n",(0,t.jsxs)(n.p,{children:["You may customize the severity of the log entries thanks to the environment variable ",(0,t.jsx)(n.code,{children:"LOG_LEVEL"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["It accepts one of the following severities: ",(0,t.jsx)(n.code,{children:'"DEBUG"'}),", ",(0,t.jsx)(n.code,{children:'"INFO"'})," (default) and ",(0,t.jsx)(n.code,{children:'"ERROR"'}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"default-listen-port",children:"Default listen port"}),"\n",(0,t.jsxs)(n.p,{children:["By default, the API will listen on port ",(0,t.jsx)(n.code,{children:"3000"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["You may customize this value with the environment variable ",(0,t.jsx)(n.code,{children:"DEFAULT_LISTEN_PORT"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"This environment variable accepts any string that can be turned into a port number."}),"\n",(0,t.jsx)(n.h2,{id:"root-path",children:"Root path"}),"\n",(0,t.jsxs)(n.p,{children:["By default, the API root path is ",(0,t.jsx)(n.code,{children:"/"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["You may customize this value with the environment variable ",(0,t.jsx)(n.code,{children:"ROOT_PATH"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["This environment variable accepts a string starting and ending with ",(0,t.jsx)(n.code,{children:"/"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["For instance, ",(0,t.jsx)(n.code,{children:"/gotenberg/"})," is a valid value while ",(0,t.jsx)(n.code,{children:"gotenberg"})," is not."]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)(n.p,{children:"This is useful if you wish to do service discovery via URL paths."})}),"\n",(0,t.jsx)(n.h2,{id:"disable-google-chrome",children:"Disable Google Chrome"}),"\n",(0,t.jsxs)(n.p,{children:["In order to save some resources, the Gotenberg image accepts the environment variable ",(0,t.jsx)(n.code,{children:"DISABLE_GOOGLE_CHROME"}),"\nfor disabling Google Chrome."]}),"\n",(0,t.jsxs)(n.p,{children:["It takes the strings ",(0,t.jsx)(n.code,{children:'"0"'})," or ",(0,t.jsx)(n.code,{children:'"1"'})," as value where ",(0,t.jsx)(n.code,{children:"1"})," means ",(0,t.jsx)(n.code,{children:"true"})]}),"\n",(0,t.jsx)(n.admonition,{type:"caution",children:(0,t.jsxs)(n.p,{children:["If Google Chrome is disabled, the following conversions will ",(0,t.jsx)(n.strong,{children:"not"})," be available anymore:\n",(0,t.jsx)(n.a,{href:"html",children:"HTML"}),", ",(0,t.jsx)(n.a,{href:"url",children:"URL"})," and ",(0,t.jsx)(n.a,{href:"markdown",children:"Markdown"})]})}),"\n",(0,t.jsx)(n.h2,{id:"default-google-chrome-rpcc-buffer-size",children:"Default Google Chrome rpcc buffer size"}),"\n",(0,t.jsxs)(n.p,{children:["When performing a ",(0,t.jsx)(n.a,{href:"html",children:"HTML"}),", ",(0,t.jsx)(n.a,{href:"url",children:"URL"})," or ",(0,t.jsx)(n.a,{href:"markdown",children:"Markdown"})," conversion, the API might return\na ",(0,t.jsx)(n.code,{children:"400"})," HTTP code with the message ",(0,t.jsx)(n.code,{children:"increase the Google Chrome rpcc buffer size"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["If so, you may increase this buffer size with the environment variable ",(0,t.jsx)(n.code,{children:"DEFAULT_GOOGLE_CHROME_RPCC_BUFFER_SIZE"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["It takes a string representation of an int as value (e.g. ",(0,t.jsx)(n.code,{children:'"1048576"'})," for 1 MB).\nThe hard limit is 100 MB and is defined by Google Chrome itself."]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["The default Google Chrome rpcc buffer size may also be overridden per request thanks to the form field ",(0,t.jsx)(n.code,{children:"googleChromeRpccBufferSize"}),".\nSee the ",(0,t.jsx)(n.a,{href:"html#rpcc-buffer-size",children:"rpcc buffer size section"}),"."]})}),"\n",(0,t.jsx)(n.h2,{id:"google-chrome-ignore-certificate-errors",children:"Google Chrome ignore certificate errors"}),"\n",(0,t.jsxs)(n.p,{children:["When performing a ",(0,t.jsx)(n.a,{href:"url",children:"URL"})," conversion, Google Chrome will not accept certificate errors."]}),"\n",(0,t.jsxs)(n.p,{children:["You may allow insecure connections by setting the ",(0,t.jsx)(n.code,{children:"GOOGLE_CHROME_IGNORE_CERTIFICATE_ERRORS"})," environment variable to ",(0,t.jsx)(n.code,{children:'"1"'}),"."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"You should be careful with this feature and only enable it in your development environment."})}),"\n",(0,t.jsx)(n.h2,{id:"disable-libreoffice-unoconv",children:"Disable LibreOffice (unoconv)"}),"\n",(0,t.jsxs)(n.p,{children:["You may also disable LibreOffice (unoconv) with ",(0,t.jsx)(n.code,{children:"DISABLE_UNOCONV"}),"."]}),"\n",(0,t.jsx)(n.admonition,{type:"caution",children:(0,t.jsxs)(n.p,{children:["If LibreOffice (unoconv) is disabled, the following conversion will ",(0,t.jsx)(n.strong,{children:"not"})," be available anymore:\n",(0,t.jsx)(n.a,{href:"office",children:"Office"})]})}),"\n",(0,t.jsx)(n.h2,{id:"default-wait-timeout",children:"Default wait timeout"}),"\n",(0,t.jsxs)(n.p,{children:["By default, the API will wait 10 seconds before it considers the conversion to be unsuccessful.\nIf unsucessful, it returns a ",(0,t.jsx)(n.code,{children:"504"})," HTTP code."]}),"\n",(0,t.jsxs)(n.p,{children:["You may customize this timeout thanks to the environment variable ",(0,t.jsx)(n.code,{children:"DEFAULT_WAIT_TIMEOUT"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["It takes a string representation of a float as value (e.g ",(0,t.jsx)(n.code,{children:'"2.5"'})," for 2.5 seconds)."]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["The default timeout may also be overridden per request thanks to the form field ",(0,t.jsx)(n.code,{children:"waitTimeout"}),".\nSee the ",(0,t.jsx)(n.a,{href:"timeout",children:"timeout section"}),"."]})}),"\n",(0,t.jsx)(n.h2,{id:"maximum-wait-timeout",children:"Maximum wait timeout"}),"\n",(0,t.jsxs)(n.p,{children:["By default, the value of the form field ",(0,t.jsx)(n.code,{children:"waitTimeout"})," cannot be more than 30 seconds."]}),"\n",(0,t.jsxs)(n.p,{children:["You may increase or decrease this limit thanks to the environment variable ",(0,t.jsx)(n.code,{children:"MAXIMUM_WAIT_TIMEOUT"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["It takes a string representation of a float as value (e.g ",(0,t.jsx)(n.code,{children:'"2.5"'})," for 2.5 seconds)."]}),"\n",(0,t.jsx)(n.h2,{id:"default-webhook-url-timeout",children:"Default webhook URL timeout"}),"\n",(0,t.jsx)(n.p,{children:"By default, the API will wait 10 seconds before it considers the sending of the resulting PDF to be unsuccessful."}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["See the ",(0,t.jsx)(n.a,{href:"webhook",children:"webhook section"}),"."]})}),"\n",(0,t.jsxs)(n.p,{children:["You may customize this timeout thanks to the environment variable ",(0,t.jsx)(n.code,{children:"DEFAULT_WEBHOOK_URL_TIMEOUT"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["It takes a string representation of a float as value (e.g ",(0,t.jsx)(n.code,{children:'"2.5"'})," for 2.5 seconds)."]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["The default timeout may also be overridden per request thanks to the form field ",(0,t.jsx)(n.code,{children:"webhookURLTimeout"}),".\nSee the ",(0,t.jsx)(n.a,{href:"webhook#timeout",children:"webhook timeout section"}),"."]})}),"\n",(0,t.jsx)(n.h2,{id:"maximum-webhook-url-timeout",children:"Maximum webhook URL timeout"}),"\n",(0,t.jsxs)(n.p,{children:["By default, the value of the form field ",(0,t.jsx)(n.code,{children:"webhookURLTimeout"})," cannot be more than 30 seconds."]}),"\n",(0,t.jsxs)(n.p,{children:["You may increase or decrease this limit thanks to the environment variable ",(0,t.jsx)(n.code,{children:"MAXIMUM_WEBHOOK_URL_TIMEOUT"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["It takes a string representation of a float as value (e.g ",(0,t.jsx)(n.code,{children:'"2.5"'})," for 2.5 seconds)."]}),"\n",(0,t.jsx)(n.h2,{id:"maximum-wait-delay",children:"Maximum wait delay"}),"\n",(0,t.jsxs)(n.p,{children:["By default, the value of the form field ",(0,t.jsx)(n.code,{children:"waitDelay"})," cannot be more than 10 seconds."]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["See the ",(0,t.jsx)(n.a,{href:"html#wait-delay",children:"wait delay section"}),"."]})}),"\n",(0,t.jsxs)(n.p,{children:["You may increase or decrease this limit thanks to the environment variable ",(0,t.jsx)(n.code,{children:"MAXIMUM_WAIT_DELAY"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["It takes a string representation of a float as value (e.g ",(0,t.jsx)(n.code,{children:'"2.5"'})," for 2.5 seconds)."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>l});var o=i(6540);const t={},r=o.createContext(t);function s(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);