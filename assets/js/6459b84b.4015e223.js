"use strict";(self.webpackChunkgotenberg_dev=self.webpackChunkgotenberg_dev||[]).push([[459],{6699:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"getting-started/installation","title":"Installation","description":"This guide is not intended to provide a comprehensive tour of Docker and its orchestrators. Rather, it\'s designed to","source":"@site/docs/getting-started/installation.mdx","sourceDirName":"getting-started","slug":"/getting-started/installation","permalink":"/docs/getting-started/installation","draft":false,"unlisted":false,"editUrl":"https://github.com/gotenberg/gotenberg.dev/edit/main/docs/getting-started/installation.mdx","tags":[],"version":"current","frontMatter":{"id":"installation","title":"Installation"},"sidebar":"version-8.x","previous":{"title":"What is Gotenberg?","permalink":"/docs/getting-started/introduction"},"next":{"title":"Clients","permalink":"/docs/getting-started/clients"}}');var r=t(4848),i=t(8453);const o={id:"installation",title:"Installation"},a=void 0,l={},c=[{value:"Live Demo \ud83d\udd25",id:"live-demo-",level:2},{value:"Docker",id:"docker",level:2},{value:"Docker Compose",id:"docker-compose",level:2},{value:"Kubernetes",id:"kubernetes",level:2},{value:"Cloud Run",id:"cloud-run",level:2},{value:"AWS Lambda (Beta)",id:"aws-lambda-beta",level:2},{value:"What&#39;s next?",id:"whats-next",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"This guide is not intended to provide a comprehensive tour of Docker and its orchestrators. Rather, it's designed to\nbe concise enough to assist beginners in getting started while helping power users sidestep potential pitfalls."}),"\n",(0,r.jsx)(n.admonition,{type:"danger",children:(0,r.jsx)(n.p,{children:"We do not recommend exposing your instances to the external world. In terms of security, you should consider Gotenberg\nas a database."})}),"\n",(0,r.jsx)(n.h2,{id:"live-demo-",children:"Live Demo \ud83d\udd25"}),"\n",(0,r.jsx)(n.p,{children:"Before downloading the Docker image, you might want to experiment with Gotenberg. We offer a demo API for this purpose:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://demo.gotenberg.dev",children:"https://demo.gotenberg.dev"})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["As you navigate through the documentation, feel free to open a terminal or ",(0,r.jsx)(n.a,{href:"https://www.postman.com/",children:"Postman"})," and try\nout the routes using the demo URL."]}),"\n",(0,r.jsx)(n.p,{children:"For instance:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"curl \\\n--request POST https://demo.gotenberg.dev/forms/chromium/convert/url \\\n--form url=https://sparksuite.github.io/simple-html-invoice-template/ \\\n-o my.pdf\n"})}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["The demo operates on a ",(0,r.jsx)(n.a,{href:"https://render.com",children:"Render"})," instance with 512MB of RAM and 0.5 CPU."]})}),"\n",(0,r.jsx)(n.p,{children:"At present, the restrictions are:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"A maximum of two requests per second per IP."}),"\n",(0,r.jsx)(n.li,{children:"A body limit of 5MB."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"docker",children:"Docker"}),"\n",(0,r.jsx)(n.p,{children:"To start a default Docker container of Gotenberg, run:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'docker run --rm -p "3000:3000" gotenberg/gotenberg:8\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Alternatively, using the historic Docker repository from our sponsor ",(0,r.jsx)(n.a,{href:"https://www.thecodingmachine.com",children:"TheCodingMachine"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'docker run --rm -p "3000:3000" thecodingmachine/gotenberg:8\n'})}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["The API will be available at ",(0,r.jsx)(n.a,{href:"http://localhost:3000",children:"http://localhost:3000"}),"."]})}),"\n",(0,r.jsxs)(n.admonition,{type:"caution",children:[(0,r.jsx)(n.p,{children:"Publishing container ports is insecure by default. Meaning, when you publish a container's ports it becomes available not only to the Docker host, but to the outside world as well."}),(0,r.jsx)(n.p,{children:"If you include the localhost IP address (127.0.0.1, or ::1) with the publish flag, only the Docker host and its containers can access the published container port."})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'docker run --rm -p "127.0.0.1:3000:3000" gotenberg/gotenberg:8\n'})}),"\n",(0,r.jsx)(n.h2,{id:"docker-compose",children:"Docker Compose"}),"\n",(0,r.jsx)(n.p,{children:"Incorporating Gotenberg into your Docker Compose services stack is as straightforward as:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",metastring:'title="compose.yaml"',children:"services:\n  # Your other services.\n\n  gotenberg:\n    image: gotenberg/gotenberg:8\n"})}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["The API will be accessible at ",(0,r.jsx)(n.a,{href:"http://gotenberg:3000",children:"gotenberg:3000"})," within your Docker Compose network.\nThis means your other services can interact with Gotenberg using ",(0,r.jsx)(n.a,{href:"http://gotenberg:3000",children:"gotenberg:3000"}),"."]})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:["If you want to expose the API on your host, consider adding a ",(0,r.jsx)(n.code,{children:"ports"})," section:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",metastring:'title="compose.yaml"',children:'services:\n  # Your other services.\n\n  gotenberg:\n    image: gotenberg/gotenberg:8\n    ports:\n      - "3000:3000"\n     # Or more secure:\n     # - "127.0.0.1:3000:3000"\n'})}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["The API will be available at ",(0,r.jsx)(n.a,{href:"http://localhost:3000",children:"http://localhost:3000"}),"."]})}),"\n",(0,r.jsx)(n.h2,{id:"kubernetes",children:"Kubernetes"}),"\n",(0,r.jsxs)(n.p,{children:["The Docker image runs as a non-root user named ",(0,r.jsx)(n.em,{children:"gotenberg"}),", with a user ID (UID) and group ID (GID) of ",(0,r.jsx)(n.strong,{children:"1001"}),"."]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["Since Gotenberg ",(0,r.jsx)(n.em,{children:"8.21.0"}),", the image also supports ",(0,r.jsx)(n.a,{href:"https://docs.redhat.com/en/documentation/openshift_container_platform/4.15/html/images/creating-images#enable-images-for-source-to-image_create-images",children:"arbitrary user IDs (OpenShift)"}),"."]})}),"\n",(0,r.jsx)(n.p,{children:"When defining the pod\u2019s deployment spec, make sure to include the following:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"securityContext:\n  readOnlyRootFilesystem: false\n  allowPrivilegeEscalation: false\n  privileged: false\n  runAsUser: 1001 # unless using an arbitrarily assigned user ID.\n"})}),"\n",(0,r.jsx)(n.p,{children:"Additionally, ensure the container has adequate resource allocations \u2014 at least 512Mi of memory and 0.2 CPU."}),"\n",(0,r.jsxs)(n.p,{children:["A community-maintained Helm chart is also available at ",(0,r.jsx)(n.a,{href:"https://github.com/MaikuMori/helm-charts",children:"MaikuMori/helm-charts"})," and on\n",(0,r.jsx)(n.a,{href:"https://artifacthub.io/packages/helm/maikumori/gotenberg",children:"ArtifactHub"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"cloud-run",children:"Cloud Run"}),"\n",(0,r.jsx)(n.p,{children:"We have a dedicated Docker image tag specifically for this provider:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"gotenberg/gotenberg:8-cloudrun\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Alternatively, using the historic Docker repository from our sponsor ",(0,r.jsx)(n.a,{href:"https://www.thecodingmachine.com",children:"TheCodingMachine"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"thecodingmachine/gotenberg:8-cloudrun\n"})}),"\n",(0,r.jsx)(n.p,{children:"This image is preconfigured for Cloud Run:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Uses the ",(0,r.jsx)(n.code,{children:"PORT"})," environment variable provided by Cloud Run."]}),"\n",(0,r.jsx)(n.li,{children:"Logs in a format compatible with Cloud Run."}),"\n",(0,r.jsx)(n.li,{children:"Auto-starts Chromium and LibreOffice for faster readiness."}),"\n",(0,r.jsx)(n.li,{children:"Uses synchronous webhook mode, since Cloud Run may stop the container if there\u2019s no HTTP activity."}),"\n"]}),"\n",(0,r.jsxs)(n.admonition,{type:"tip",children:[(0,r.jsxs)(n.p,{children:["At least 1Gi of memory is required for a ",(0,r.jsx)(n.a,{href:"https://github.com/gotenberg/gotenberg/issues/950#issuecomment-2329228662",children:"smooth experience"}),"."]}),(0,r.jsxs)(n.p,{children:["Consider using HTTP/2 to bypass the ",(0,r.jsx)(n.a,{href:"https://cloud.google.com/run/quotas?hl=en",children:"32MB request size limit"}),"."]})]}),"\n",(0,r.jsx)(n.h2,{id:"aws-lambda-beta",children:"AWS Lambda (Beta)"}),"\n",(0,r.jsxs)(n.p,{children:["We provide a dedicated Docker image tag, available on both ",(0,r.jsx)(n.code,{children:"linux/amd64"})," and ",(0,r.jsx)(n.code,{children:"linux/arm64"})," architectures:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"gotenberg/gotenberg:8-aws-lambda\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Alternatively, using the historic Docker repository from our sponsor ",(0,r.jsx)(n.a,{href:"https://www.thecodingmachine.com",children:"TheCodingMachine"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"thecodingmachine/gotenberg:8-aws-lambda\n"})}),"\n",(0,r.jsx)(n.p,{children:"This image is preconfigured for AWS Lambda:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Uses the ",(0,r.jsx)(n.code,{children:"AWS_LWA_PORT"})," environment variable to configure its port."]}),"\n",(0,r.jsxs)(n.li,{children:["Set ",(0,r.jsx)(n.code,{children:"AWS_LWA_READINESS_CHECK_PATH"})," with the route ",(0,r.jsx)(n.code,{children:"/health"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Set ",(0,r.jsx)(n.code,{children:"AWS_LWA_INVOKE_MODE"})," with the value ",(0,r.jsx)(n.code,{children:"buffered"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Uses synchronous webhook mode, since AWS may stop the container if there\u2019s no HTTP activity."}),"\n",(0,r.jsxs)(n.li,{children:["See ",(0,r.jsx)(n.a,{href:"https://github.com/awslabs/aws-lambda-web-adapter",children:"https://github.com/awslabs/aws-lambda-web-adapter"})," for more AWS related options."]}),"\n"]}),"\n",(0,r.jsxs)(n.admonition,{type:"tip",children:[(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"buffered"})," invoke mode supports responses of up to 6MB only."]}),(0,r.jsx)(n.p,{children:"For larger outputs, consider using the webhook feature to upload results to S3."})]}),"\n",(0,r.jsxs)(n.admonition,{type:"info",children:[(0,r.jsxs)(n.p,{children:["There is an ",(0,r.jsx)(n.a,{href:"https://github.com/gotenberg/gotenberg/issues/540",children:"ongoing discussion"})," about improving this variant."]}),(0,r.jsx)(n.p,{children:"If you have feedback, please feel free to share it in the thread!"})]}),"\n",(0,r.jsx)(n.h2,{id:"whats-next",children:"What's next?"}),"\n",(0,r.jsxs)(n.p,{children:["Now that you have Gotenberg up and running, you can start using it. Install a custom ",(0,r.jsx)(n.a,{href:"clients",children:"client"})," or\nread the ",(0,r.jsx)(n.a,{href:"/docs/routes",children:"routes guide"})," to learn more."]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var s=t(6540);const r={},i=s.createContext(r);function o(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);