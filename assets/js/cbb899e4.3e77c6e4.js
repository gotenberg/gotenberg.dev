"use strict";(self.webpackChunkgotenberg_dev=self.webpackChunkgotenberg_dev||[]).push([[616],{220:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"configuration","title":"Configuration","description":"The Docker image internally employs a binary that offers flags to configure its multiple modules. This guide contains a","source":"@site/docs/configuration.mdx","sourceDirName":".","slug":"/configuration","permalink":"/docs/configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/gotenberg/gotenberg.dev/edit/main/docs/configuration.mdx","tags":[],"version":"current","frontMatter":{"id":"configuration","title":"Configuration"},"sidebar":"version-8.x","previous":{"title":"Webhook","permalink":"/docs/webhook"},"next":{"title":"Troubleshooting","permalink":"/docs/troubleshooting"}}');var t=n(4848),i=n(8453);const d={id:"configuration",title:"Configuration"},l=void 0,a={},c=[{value:"API",id:"api",level:2},{value:"Chromium",id:"chromium",level:2},{value:"LibreOffice",id:"libreoffice",level:2},{value:"Switch Language",id:"switch-language",level:3},{value:"PDF Engines",id:"pdf-engines",level:2},{value:"Webhook",id:"webhook",level:2},{value:"Prometheus",id:"prometheus",level:2},{value:"Logging",id:"logging",level:2},{value:"Graceful Shutdown",id:"graceful-shutdown",level:2},{value:"Docker Image",id:"docker-image",level:2},{value:"Fonts",id:"fonts",level:3},{value:"Ownership",id:"ownership",level:3}];function o(e){const s={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.p,{children:"The Docker image internally employs a binary that offers flags to configure its multiple modules. This guide contains a\ncomprehensive list of flags that you can use to fine-tune Gotenberg according to your specific requirements."}),"\n",(0,t.jsx)(s.admonition,{type:"tip",children:(0,t.jsxs)(s.p,{children:["Alternatively, you can set environment variables that directly correspond to the command-line flags. For example, ",(0,t.jsx)(s.code,{children:"--chromium-incognito"})," to ",(0,t.jsx)(s.code,{children:"CHROMIUM_INCOGNITO"}),"."]})}),"\n",(0,t.jsx)(s.h2,{id:"api",children:"API"}),"\n",(0,t.jsx)(s.p,{children:"The API module is an HTTP/1 and HTTP/2 (with H2C support) server."}),"\n",(0,t.jsx)(s.p,{children:"The following flags allow you to configure the API module:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Flag"}),(0,t.jsx)(s.th,{children:"Description"}),(0,t.jsx)(s.th,{children:"Default"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--api-port"})}),(0,t.jsx)(s.td,{children:"Set the port on which the API should listen."}),(0,t.jsx)(s.td,{children:"3000"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--api-port-from-env"})}),(0,t.jsx)(s.td,{children:"Set the environment variable with the port on which the API should listen - override the default port."}),(0,t.jsx)(s.td,{children:"None"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--api-bind-ip"})}),(0,t.jsx)(s.td,{children:"Set the IP address the API should bind to for incoming connections."}),(0,t.jsx)(s.td,{children:"0.0.0.0"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--api-tls-cert-file"})}),(0,t.jsx)(s.td,{children:"Path to the TLS/SSL certificate file - for HTTPS support."}),(0,t.jsx)(s.td,{children:"None"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--api-tls-key-file"})}),(0,t.jsx)(s.td,{children:"Path to the TLS/SSL key file - for HTTPS support."}),(0,t.jsx)(s.td,{children:"None"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--api-start-timeout"})}),(0,t.jsx)(s.td,{children:"Set the time limit for the API to start."}),(0,t.jsx)(s.td,{children:"30s"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--api-timeout"})}),(0,t.jsx)(s.td,{children:"Set the time limit for requests."}),(0,t.jsx)(s.td,{children:"30s"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--api-body-limit"})}),(0,t.jsx)(s.td,{children:"Set the body limit for multipart/form-data requests - it accepts values like 5MB, 1GB, etc."}),(0,t.jsx)(s.td,{children:"None"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--api-root-path"})}),(0,t.jsx)(s.td,{children:"Set the root path of the API - for service discovery via URL paths"}),(0,t.jsx)(s.td,{children:"/"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--api-trace-header"})}),(0,t.jsx)(s.td,{children:"Set the header name to use for identifying requests."}),(0,t.jsx)(s.td,{children:"Gotenberg-Trace"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--api-enable-basic-auth"})}),(0,t.jsx)(s.td,{children:"Enable basic authentication - will look for the GOTENBERG_API_BASIC_AUTH_USERNAME and GOTENBERG_API_BASIC_AUTH_PASSWORD environment variables."}),(0,t.jsx)(s.td,{children:"false"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--api-download-from-allow-list"})}),(0,t.jsx)(s.td,{children:"Set the allowed URLs for the download from feature using a regular expression."}),(0,t.jsx)(s.td,{children:"All"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--api-download-from-deny-list"})}),(0,t.jsx)(s.td,{children:"Set the denied URLs for the download from feature using a regular expression."}),(0,t.jsx)(s.td,{children:"None"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--api-download-from-max-retry"})}),(0,t.jsx)(s.td,{children:"Set the maximum number of retries for the download from feature."}),(0,t.jsx)(s.td,{children:"4"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--api-disable-download-from"})}),(0,t.jsx)(s.td,{children:"Disable the download from feature."}),(0,t.jsx)(s.td,{children:"false"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--api-disable-health-check-logging"})}),(0,t.jsx)(s.td,{children:"Disable health check logging."}),(0,t.jsx)(s.td,{children:"false"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--api-enable-debug-route"})}),(0,t.jsx)(s.td,{children:"Enable debug route."}),(0,t.jsx)(s.td,{children:"false"})]})]})]}),"\n",(0,t.jsx)(s.h2,{id:"chromium",children:"Chromium"}),"\n",(0,t.jsx)(s.p,{children:"The Chromium module interacts with the Chromium browser to convert HTML documents to PDF."}),"\n",(0,t.jsx)(s.p,{children:"A single Chromium browser manages the conversions in a stateful mode, enabling quicker single conversions.\nHowever, due to a lock mechanism, a Chromium browser cannot execute parallel operations."}),"\n",(0,t.jsx)(s.p,{children:"During periods of heavy load, incoming requests will accumulate in the queue until they are processed, time out, or the\nqueue reaches its maximum capacity. In the latter case, the request will be terminated prematurely."}),"\n",(0,t.jsx)(s.p,{children:"To maintain performance under heavy load, consider increasing the number of Gotenberg instances."}),"\n",(0,t.jsxs)(s.admonition,{type:"caution",children:[(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.code,{children:"amd64"})," Docker image uses Google Chrome stable, while other architectures use Chromium."]}),(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.code,{children:"armhf"})," Docker image uses an earlier version of Chromium. See ",(0,t.jsx)(s.a,{href:"https://github.com/gotenberg/gotenberg/issues/709",children:"#709"}),"\nfor more details."]})]}),"\n",(0,t.jsx)(s.p,{children:"The following flags allow you to configure the Chromium module:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Flag"}),(0,t.jsx)(s.th,{children:"Description"}),(0,t.jsx)(s.th,{children:"Default"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--chromium-restart-after"})}),(0,t.jsx)(s.td,{children:"Number of conversions after which Chromium will automatically restart. Set to 0 to disable this feature."}),(0,t.jsxs)(s.td,{children:["10",(0,t.jsx)("span",{style:{color:"red"},children:"*"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--chromium-max-queue-size"})}),(0,t.jsx)(s.td,{children:"Maximum request queue size for Chromium. Set to 0 to disable this feature."}),(0,t.jsx)(s.td,{children:"0"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--chromium-auto-start"})}),(0,t.jsx)(s.td,{children:"Automatically launch Chromium upon initialization if set to true; otherwise, Chromium will start at the time of the first conversion."}),(0,t.jsx)(s.td,{children:"false"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--chromium-start-timeout"})}),(0,t.jsx)(s.td,{children:"Maximum duration to wait for Chromium to start or restart."}),(0,t.jsx)(s.td,{children:"20s"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--chromium-allow-file-access-from-files"})}),(0,t.jsx)(s.td,{children:"Allow file:// URIs to read other file:// URIs."}),(0,t.jsx)(s.td,{children:"false"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--chromium-allow-insecure-localhost"})}),(0,t.jsx)(s.td,{children:"Ignore TLS/SSL errors on localhost."}),(0,t.jsx)(s.td,{children:"false"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--chromium-allow-list"})}),(0,t.jsx)(s.td,{children:"Set the allowed URLs for Chromium using a regular expression."}),(0,t.jsx)(s.td,{children:"All"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--chromium-deny-list"})}),(0,t.jsx)(s.td,{children:"Set the denied URLs for Chromium using a regular expression."}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"^file:(?!//\\/tmp/).*"})})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--chromium-ignore-certificate-errors"})}),(0,t.jsx)(s.td,{children:"Ignore the certificate errors."}),(0,t.jsx)(s.td,{children:"false"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--chromium-disable-web-security"})}),(0,t.jsx)(s.td,{children:"Don't enforce the same-origin policy."}),(0,t.jsx)(s.td,{children:"false"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--chromium-incognito"})}),(0,t.jsx)(s.td,{children:"Start Chromium with incognito mode."}),(0,t.jsx)(s.td,{children:"false"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--chromium-host-resolver-rules"})}),(0,t.jsx)(s.td,{children:"Set custom mappings to the host resolver."}),(0,t.jsx)(s.td,{children:"None"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--chromium-proxy-server"})}),(0,t.jsx)(s.td,{children:"Set the outbound proxy server; this switch only affects HTTP and HTTPS requests."}),(0,t.jsx)(s.td,{children:"None"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--chromium-clear-cache"})}),(0,t.jsx)(s.td,{children:"Clear Chromium cache between each conversion."}),(0,t.jsx)(s.td,{children:"false"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--chromium-clear-cookies"})}),(0,t.jsx)(s.td,{children:"Clear Chromium cookies between each conversion."}),(0,t.jsx)(s.td,{children:"false"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--chromium-disable-javascript"})}),(0,t.jsx)(s.td,{children:"Disable JavaScript."}),(0,t.jsx)(s.td,{children:"false"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--chromium-disable-routes"})}),(0,t.jsx)(s.td,{children:"Disable the routes."}),(0,t.jsx)(s.td,{children:"false"})]})]})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)("span",{style:{color:"red"},children:"*"}),"Prior to Gotenberg ",(0,t.jsx)(s.em,{children:"8.15.2"}),", restarting Chromium resulted in zombie processes."]}),"\n",(0,t.jsx)(s.h2,{id:"libreoffice",children:"LibreOffice"}),"\n",(0,t.jsxs)(s.p,{children:["The LibreOffice module interacts with ",(0,t.jsx)(s.a,{href:"https://www.libreoffice.org/",children:"LibreOffice"})," to convert numerous documents to PDF,\nthanks to ",(0,t.jsx)(s.a,{href:"https://github.com/unoconv/unoconv",children:"unoconv"}),"."]}),"\n",(0,t.jsx)(s.p,{children:"A single LibreOffice instance manages the conversions in a stateful mode, enabling quicker single conversions.\nHowever, due to a lock mechanism, a LibreOffice instance cannot execute parallel operations."}),"\n",(0,t.jsx)(s.p,{children:"During periods of heavy load, incoming requests will accumulate in the queue until they are processed, time out, or the\nqueue reaches its maximum capacity. In the latter case, the request will be terminated prematurely."}),"\n",(0,t.jsx)(s.p,{children:"To maintain performance under heavy load, consider increasing the number of Gotenberg instances."}),"\n",(0,t.jsx)(s.p,{children:"The following flags allow you to configure the LibreOffice module:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Flag"}),(0,t.jsx)(s.th,{children:"Description"}),(0,t.jsx)(s.th,{children:"Default"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--libreoffice-restart-after"})}),(0,t.jsx)(s.td,{children:"Number of conversions after which LibreOffice will automatically restart. Set to 0 to disable this feature."}),(0,t.jsx)(s.td,{children:"10"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--libreoffice-max-queue-size"})}),(0,t.jsx)(s.td,{children:"Maximum request queue size for LibreOffice. Set to 0 to disable this feature."}),(0,t.jsx)(s.td,{children:"0"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--libreoffice-auto-start"})}),(0,t.jsx)(s.td,{children:"Automatically launch LibreOffice upon initialization if set to true; otherwise, LibreOffice will start at the time of the first conversion."}),(0,t.jsx)(s.td,{children:"false"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--libreoffice-start-timeout"})}),(0,t.jsx)(s.td,{children:"Maximum duration to wait for LibreOffice to start or restart."}),(0,t.jsx)(s.td,{children:"20s"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--libreoffice-disable-routes"})}),(0,t.jsx)(s.td,{children:"Disable the routes."}),(0,t.jsx)(s.td,{children:"false"})]})]})]}),"\n",(0,t.jsx)(s.h3,{id:"switch-language",children:"Switch Language"}),"\n",(0,t.jsx)(s.p,{children:"By default, LibreOffice uses the English language when it converts documents to PDF. You may override this behavior by\nbuilding your own Docker image."}),"\n",(0,t.jsx)(s.p,{children:"For instance, with the German language:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-docker",children:"FROM gotenberg/gotenberg:8\n\nUSER root\n\nRUN apt-get update -qq &&\\\n    DEBIAN_FRONTEND=noninteractive apt-get install -y -qq --no-install-recommends -t bookworm-backports libreoffice-l10n-de &&\\\n    sed -i '/de_DE.UTF-8/s/^# //g' /etc/locale.gen &&\\\n    locale-gen &&\\\n    # Cleanup.\n    # Note: the Debian image does automatically a clean after each install thanks to a hook.\n    # Therefore, there is no need for apt-get clean.\n    # See https://stackoverflow.com/a/24417119/3248473.\n    rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n\nENV LANG de_DE.UTF-8\nENV LANGUAGE de_DE:de\nENV LC_ALL de_DE.UTF-8\n\nUSER gotenberg\n"})}),"\n",(0,t.jsx)(s.h2,{id:"pdf-engines",children:"PDF Engines"}),"\n",(0,t.jsx)(s.p,{children:"The PDF Engines module gathers all engines that can manipulate PDF files. It calls each engine until one successfully\nhandles a task. A PDF engine is an external tool that Gotenberg leverages to perform a specific task, such as merging\nPDF files."}),"\n",(0,t.jsx)(s.p,{children:"Currently, Gotenberg supports the following PDF engines:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Engine"}),(0,t.jsx)(s.th,{children:"Merge"}),(0,t.jsx)(s.th,{children:"Split"}),(0,t.jsx)(s.th,{children:"Flatten"}),(0,t.jsx)(s.th,{children:"Convert into PDF/A & PDF/UA"}),(0,t.jsx)(s.th,{children:"Read/Write metadata"}),(0,t.jsx)(s.th,{children:"Name"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"https://exiftool.org/",children:"ExifTool"})}),(0,t.jsx)(s.td,{children:"\u274c"}),(0,t.jsx)(s.td,{children:"\u274c"}),(0,t.jsx)(s.td,{children:"\u274c"}),(0,t.jsx)(s.td,{children:"\u274c"}),(0,t.jsx)(s.td,{children:"\u2705"}),(0,t.jsx)(s.td,{children:"exiftool"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"https://gitlab.com/pdftk-java/pdftk",children:"PDFtk"})}),(0,t.jsx)(s.td,{children:"\u2705"}),(0,t.jsx)(s.td,{children:"\u2705"}),(0,t.jsx)(s.td,{children:"\u274c"}),(0,t.jsx)(s.td,{children:"\u274c"}),(0,t.jsx)(s.td,{children:"\u274c"}),(0,t.jsx)(s.td,{children:"pdtk"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"https://github.com/pdfcpu/pdfcpu",children:"pdfcpu"})}),(0,t.jsx)(s.td,{children:"\u2705"}),(0,t.jsx)(s.td,{children:"\u2705"}),(0,t.jsx)(s.td,{children:"\u274c"}),(0,t.jsx)(s.td,{children:"\u274c"}),(0,t.jsx)(s.td,{children:"\u274c"}),(0,t.jsx)(s.td,{children:"pdfcpu"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"https://github.com/qpdf/qpdf",children:"QPDF"})}),(0,t.jsx)(s.td,{children:"\u2705"}),(0,t.jsx)(s.td,{children:"\u2705"}),(0,t.jsx)(s.td,{children:"\u2705"}),(0,t.jsx)(s.td,{children:"\u274c"}),(0,t.jsx)(s.td,{children:"\u274c"}),(0,t.jsx)(s.td,{children:"qpdf"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"https://github.com/unoconv/unoconv",children:"UNO"})}),(0,t.jsx)(s.td,{children:"\u274c"}),(0,t.jsx)(s.td,{children:"\u274c"}),(0,t.jsx)(s.td,{children:"\u274c"}),(0,t.jsx)(s.td,{children:"\u2705"}),(0,t.jsx)(s.td,{children:"\u274c"}),(0,t.jsx)(s.td,{children:"libreoffice-pdfengine"})]})]})]}),"\n",(0,t.jsx)(s.admonition,{type:"info",children:(0,t.jsxs)(s.p,{children:["PDFtk and QPDF only supports the split mode ",(0,t.jsx)(s.em,{children:"pages"})," with unification."]})}),"\n",(0,t.jsx)(s.p,{children:"The following flags allow you to configure the PDF Engines module:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Flag"}),(0,t.jsx)(s.th,{children:"Description"}),(0,t.jsx)(s.th,{children:"Default"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--pdfengines-merge-engines"})}),(0,t.jsx)(s.td,{children:"Set the PDF engines and their order for the merge feature - empty means all."}),(0,t.jsx)(s.td,{children:"qpdf,pdfcpu,pdftk"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--pdfengines-split-engines"})}),(0,t.jsx)(s.td,{children:"Set the PDF engines and their order for the split feature - empty means all."}),(0,t.jsx)(s.td,{children:"pdfcpu,qpdf,pdftk"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--pdfengines-flatten-engines"})}),(0,t.jsx)(s.td,{children:"Set the PDF engines and their order for the flatten feature - empty means all."}),(0,t.jsx)(s.td,{children:"qpdf"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--pdfengines-convert-engines"})}),(0,t.jsx)(s.td,{children:"Set the PDF engines and their order for the convert feature - empty means all."}),(0,t.jsx)(s.td,{children:"libreoffice-pdfengine"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--pdfengines-read-metadata-engines"})}),(0,t.jsx)(s.td,{children:"Set the PDF engines and their order for the read metadata feature - empty means all."}),(0,t.jsx)(s.td,{children:"exiftool"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--pdfengines-write-metadata-engines"})}),(0,t.jsx)(s.td,{children:"Set the PDF engines and their order for the read metadata feature - empty means all."}),(0,t.jsx)(s.td,{children:"exiftool"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--pdfengines-disable-routes"})}),(0,t.jsx)(s.td,{children:"Disable the routes."}),(0,t.jsx)(s.td,{children:"false"})]})]})]}),"\n",(0,t.jsx)(s.admonition,{type:"warning",children:(0,t.jsxs)(s.p,{children:["As of Gotenberg ",(0,t.jsx)(s.em,{children:"8.13.0"}),", the flag ",(0,t.jsx)(s.code,{children:"--pdfengines-engines"})," has been deprecated."]})}),"\n",(0,t.jsx)(s.h2,{id:"webhook",children:"Webhook"}),"\n",(0,t.jsxs)(s.p,{children:["The webhook feature enables Gotenberg to upload the output file originating from ",(0,t.jsx)(s.em,{children:"multipart/form-data"})," routes to a\nselected destination."]}),"\n",(0,t.jsx)(s.p,{children:"The following flags allow you to configure the Webhook module:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Flag"}),(0,t.jsx)(s.th,{children:"Description"}),(0,t.jsx)(s.th,{children:"Default"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--webhook-allow-list"})}),(0,t.jsx)(s.td,{children:"Set the allowed URLs for the webhook feature using a regular expression."}),(0,t.jsx)(s.td,{children:"All"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--webhook-deny-list"})}),(0,t.jsx)(s.td,{children:"Set the denied URLs for the webhook feature using a regular expression."}),(0,t.jsx)(s.td,{children:"None"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--webhook-error-allow-list"})}),(0,t.jsx)(s.td,{children:"Set the allowed URLs in case of an error for the webhook feature using a regular expression."}),(0,t.jsx)(s.td,{children:"All"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--webhook-error-deny-list"})}),(0,t.jsx)(s.td,{children:"Set the denied URLs in case of an error for the webhook feature using a regular expression."}),(0,t.jsx)(s.td,{children:"None"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--webhook-max-retry"})}),(0,t.jsx)(s.td,{children:"Set the maximum number of retries for the webhook feature."}),(0,t.jsx)(s.td,{children:"4"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--webhook-retry-min-wait"})}),(0,t.jsx)(s.td,{children:"Set the minimum duration to wait before trying to call the webhook again."}),(0,t.jsx)(s.td,{children:"1s"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--webhook-retry-max-wait"})}),(0,t.jsx)(s.td,{children:"Set the maximum duration to wait before trying to call the webhook again."}),(0,t.jsx)(s.td,{children:"30s"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--webhook-client-timeout"})}),(0,t.jsx)(s.td,{children:"Set the time limit for requests to the webhook."}),(0,t.jsx)(s.td,{children:"30s"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--webhook-disable"})}),(0,t.jsx)(s.td,{children:"Disable the webhook feature."}),(0,t.jsx)(s.td,{children:"false"})]})]})]}),"\n",(0,t.jsx)(s.h2,{id:"prometheus",children:"Prometheus"}),"\n",(0,t.jsxs)(s.p,{children:["The Prometheus module collects metrics from other modules and exposes an HTTP endpoint that can be scraped by\n",(0,t.jsx)(s.a,{href:"https://prometheus.io/",children:"Prometheus"}),"."]}),"\n",(0,t.jsx)(s.p,{children:"The following flags allow you to configure the Prometheus module:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Flag"}),(0,t.jsx)(s.th,{children:"Description"}),(0,t.jsx)(s.th,{children:"Default"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--prometheus-collect-interval"})}),(0,t.jsx)(s.td,{children:"Set the interval for collecting modules' metrics."}),(0,t.jsx)(s.td,{children:"1s"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--prometheus-namespace"})}),(0,t.jsx)(s.td,{children:"Set the namespace of modules' metrics."}),(0,t.jsx)(s.td,{children:"gotenberg"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--prometheus-disable-collect"})}),(0,t.jsx)(s.td,{children:"Disable the collect of metrics."}),(0,t.jsx)(s.td,{children:"false"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--prometheus-disable-route-logging"})}),(0,t.jsx)(s.td,{children:"Disable the route logging."}),(0,t.jsx)(s.td,{children:"false"})]})]})]}),"\n",(0,t.jsx)(s.h2,{id:"logging",children:"Logging"}),"\n",(0,t.jsx)(s.p,{children:"Gotenberg employs a logger that generates structured logs. Structured logs are formatted in a standardized,\nmachine-readable way, making them extremely beneficial for centralized log management."}),"\n",(0,t.jsx)(s.p,{children:"The following flags allow you to configure the logger:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Flag"}),(0,t.jsx)(s.th,{children:"Description"}),(0,t.jsx)(s.th,{children:"Default"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--log-format"})}),(0,t.jsx)(s.td,{children:"Specify the format of logging. Options include auto, json, or text."}),(0,t.jsx)(s.td,{children:"auto"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--log-level"})}),(0,t.jsx)(s.td,{children:"Choose the level of logging detail. Options include error, warn, info, or debug."}),(0,t.jsx)(s.td,{children:"info"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--log-fields-prefix"})}),(0,t.jsx)(s.td,{children:"Prepend a specified prefix to each field in the logs."}),(0,t.jsx)(s.td,{children:"None"})]})]})]}),"\n",(0,t.jsx)(s.h2,{id:"graceful-shutdown",children:"Graceful Shutdown"}),"\n",(0,t.jsx)(s.p,{children:"To ensure running tasks have sufficient time to complete, Gotenberg waits for a specific duration before initiating the\nshutdown process."}),"\n",(0,t.jsx)(s.p,{children:"The following flag allows you to configure this duration:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Flag"}),(0,t.jsx)(s.th,{children:"Description"}),(0,t.jsx)(s.th,{children:"Default"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)("span",{class:"badge badge--secondary",children:"--gotenberg-graceful-shutdown-duration"})}),(0,t.jsx)(s.td,{children:"Set the graceful shutdown duration."}),(0,t.jsx)(s.td,{children:"30s"})]})})]}),"\n",(0,t.jsx)(s.admonition,{type:"info",children:(0,t.jsxs)(s.p,{children:["When using the ",(0,t.jsx)(s.a,{href:"webhook",children:"webhook feature"}),", ensure that this duration is equal to or longer than the API timeout period.\nThis way, you can confirm that all asynchronous processes complete before Gotenberg begins its shutdown sequence."]})}),"\n",(0,t.jsx)(s.h2,{id:"docker-image",children:"Docker Image"}),"\n",(0,t.jsx)(s.h3,{id:"fonts",children:"Fonts"}),"\n",(0,t.jsx)(s.p,{children:"The default Docker image is pre-packaged with an extensive assortment of fonts, including Asian ones. If your application\nrequires additional or specific fonts not included in this collection, you'll need to construct a tailored Docker image\nto incorporate those fonts."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Via .tff files"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-docker",children:"FROM gotenberg/gotenberg:8\n\nUSER root\n\nCOPY /local/path/to/{font}.ttf /usr/local/share/fonts/{font}.ttf\n\nUSER gotenberg\n"})}),"\n",(0,t.jsx)(s.p,{children:"Or, if you have many fonts:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-docker",children:"FROM gotenberg/gotenberg:8\n\nUSER root\n\nCOPY /local/path/to/fonts/* /usr/local/share/fonts/\n\nUSER gotenberg\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Via .deb packages"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-docker",children:"FROM gotenberg/gotenberg:8\n\nUSER root\n\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -y -qq --no-install-recommends my-fonts-package\n\nUSER gotenberg\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.admonition,{type:"info",children:(0,t.jsxs)(s.p,{children:["You could also mount a volume containing your fonts to ",(0,t.jsx)(s.em,{children:"/usr/local/share/fonts/"})," as suggested in this\n",(0,t.jsx)(s.a,{href:"https://github.com/gotenberg/gotenberg/issues/602#issue-1580360200",children:"comment"}),"."]})}),"\n",(0,t.jsx)(s.h3,{id:"ownership",children:"Ownership"}),"\n",(0,t.jsxs)(s.p,{children:["The Docker image employs a specific non-root user, named ",(0,t.jsx)(s.em,{children:"gotenberg"}),", with a User ID (uid) and Group ID (gid) of ",(0,t.jsx)(s.strong,{children:"1001"}),".\nIf you want to change these identifiers, you will have to build a custom Docker image:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-docker",children:"FROM gotenberg/gotenberg:8\n\nUSER root\n\nRUN usermod -u {uid} -g {gid} gotenberg\n\nUSER gotenberg\n"})})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>d,x:()=>l});var r=n(6540);const t={},i=r.createContext(t);function d(e){const s=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),r.createElement(i.Provider,{value:s},e.children)}}}]);